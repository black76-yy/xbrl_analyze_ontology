# xbrl_analyze_ontology
This repository contains sample code for analyzing XBRL financial reports.

# リポジトリ説明
このリポジトリは技術同人で使用したサンプルコードを紹介するものです。

サンプルコードに関しては章別でファイルを保存しています。
ご自由にご使用ください。

# 環境
Windows 11

Google Chrome

Python 3.12.3

requests 2.32.3

Arelle-release 2.31.4

beatifulsoup4 4.12.3

pandas 2.2.2



## (4)たくさんの有報を自動でダウンロードしよう
4章『大量のデータを自動でダウンロードしよう』では、EDINET APIを利用してEDINETから任意の期間の有価証券報告書を自動ダウンロードしよう内容となっております。

また、3章ではEDINET APIを使用するまでの過程も説明しております。
良かったらご一読していただけると嬉しいです。

### 対象ファイル
xbrl_book\Chapter_4\download_xbrl.py

## (5)財務諸表から営業利益を自動で取得しよう
5章『財務諸表から売上高を自動抽出しよう』では、ダウンロードしたXBRLファイルを使用し、その中から連結財務諸表の営業利益（IFRS）を自動で抽出することについてまとめた内容となっております。

1社分の場合と10社分を分けて説明することでステップアップを図っております。
また、コラムではファイルのパスをいちいち指定するのではなく、パスを正規表現を用いて記述することによりディレクトリ内にあるXBRLファイルすべてに処理をかけることについて紹介しています。

### 対象ファイル
1社分を抽出する：xbrl_book\Chapter_5\get_tb_one.py
10社分を抽出する：xbrl_book\Chapter_5\get_tb_ten.py

## (6)有報からテキストデータを自動で取得しよう
6章『有報からテキストデータを自動抽出しよう』では、テキストデータである「事業等のリスク」という項目を抽出することについてまとめた内容になっております。

### 対象ファイル
xbrl_book\Chapter_6\get_text.py

## (7)監査報告書からKAMを自動で取得しよう
7章『監査報告書からKAMを自動で取得しよう』では、監査報告書に記述されているKAMという項目を抽出することについてまとめた内容になっております。

### 対象ファイル
xbrl_book\Chapter_7\get_kam.py

## (8)CSVファイルで出力しよう
8章『CSVファイルで出力しよう』では、今まで抽出してきた内容を1回で取得しCSVファイルにアウトプットすることについてまとめた内容になっております。

### 対象ファイル
xbrl_book\Chapter_8\get_csv.py